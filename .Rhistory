###############
### Model 2 ###
###############
svalues <- c(mod1$coef[1:28], mod1$coef[29:31], mod1$coef[37:38])
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, include = TRUE, message = FALSE, warning = FALSE,  tidy = TRUE, tidy.opts=list(blank=FALSE, width.cutoff=40), collapse = TRUE, fig.pos = 'H')
#Load some packages
library(pacman)
pacman::p_load(tidyverse)
pacman::p_load(readxl)
pacman::p_load(magrittr)
pacman::p_load(haven)
pacman::p_load(viridis)
pacman::p_load(Cairo)
options(kableExtra.latex.load_packages = FALSE)
pacman::p_load(kableExtra)
pacman::p_load(npsf)
#Basic setup for figures
source("Figures/Graph parameters.r")
#Load data
dta <- read_excel("Data/Quota trade.xlsx") %>%
mutate(date = as.Date(time)) %>%
rename(Price = price, `Price ceiling` = priceceiling)
################
### Figure 2 ###
################
dta_graph <- dta %>%
dplyr::select(date, Price, `Price ceiling`) %>%
gather(var, price, c(Price, `Price ceiling`))
plot1 <- ggplot(dta_graph, aes(x = date, y = price, color = var)) +
geom_line(size = 1) +
scale_x_date(date_labels = "%Y", date_breaks = "year") +
ylab("Price ('000 $CA)") +
scale_color_viridis(discrete = TRUE) +
theme_bw() +
mytheme +
theme(legend.direction = "horizontal",
legend.position= c(0.40, 0.95),
axis.title.x=element_blank(),
axis.line.x = element_line(color='black'),
axis.line.y = element_line(color='black')) +
labs(title = "a) Quota price")
plot2 <- ggplot(dta, aes(x = date, y = volumetraded)) +
geom_line(size = 1) +
scale_x_date(date_labels = "%Y", date_breaks = "year") +
ylab("Volume traded (kg/day)") +
theme_bw() +
mytheme +
theme(legend.direction = "horizontal",
legend.position= c(0.40, 0.95),
axis.title.x=element_blank(),
axis.line.x = element_line(color='black'),
axis.line.y = element_line(color='black')) +
labs(title = "b) Volume of quota traded")
fig2 <- grid.arrange(plot1, plot2, ncol=1, nrow =2)
ggsave(fig2, filename = "Figures/Figure 2.png",  width = 6, height = 6, units = "in", dpi = 600)
################
### Figure 3 ###
################
dta_graph <- dta %>%
dplyr::select(date, sellers, buyers) %>%
rename(`Number of sellers` = sellers, `Number of buyers` = buyers) %>%
gather(var, number, c(`Number of sellers`, `Number of buyers`))
fig3 <- ggplot(dta_graph, aes(x = date, y = number, color = var)) +
geom_line(size = 1) +
scale_x_date(labels = date_format("%Y"), breaks = date_breaks("year")) +
scale_color_viridis(discrete = TRUE) +
theme_bw() +
mytheme +
theme(legend.direction = "horizontal",
legend.position= c(0.40, 0.95),
axis.title.x=element_blank(),
axis.line.x = element_line(color='black'),
axis.title.y=element_blank(), axis.line.y = element_line(color='black'))
ggsave(fig3, filename = "Figures/Figure 3.png",  width = 6, height = 4, units = "in", dpi = 600)
fig3
#Produce data for graph
dta <- array(NA, c(2500, 1)) %>% tbl_df %>% rename(L = V1)
dta <- dta %>% mutate(L = seq(0, 250, length.out = nrow(dta))) %>%
mutate(K_100 = 100^2/L, C_100 = 200-1*L) %>%
mutate(K_89 = (10*80^0.5)^2/L, C_89 = (200)-1.25*L) %>%
mutate(K_71 = (10*50^0.5)^2/L, C_71 = (200)-2*L) %>%
mutate(K_179 = (200^.5*160^0.5)^2/L, C_179 = (200*1 + 160*1.25)-1.25*L) %>%
mutate(K_141 = (200^.5*100^0.5)^2/L, C_141 = (200*1 + 100*2)-2*L)
for (k in 2:ncol(dta)){
dta[dta[,k] > 250,k] <- NA
}
#Plot the lines
color_list <- viridis(5)
p <- ggplot() +
geom_line(data = dta, aes(x = L, y = K_100), size = 1, color = color_list[1]) +
geom_line(data = dta, aes(x = L, y = C_100), size = 1, color = color_list[1])+
geom_line(data = dta, aes(x = L, y = K_89), size = 1, color = color_list[2]) +
geom_line(data = dta, aes(x = L, y = C_89), size = 1, color = color_list[2]) +
geom_line(data = dta, aes(x = L, y = K_71), size = 1, color = color_list[3]) +
geom_line(data = dta, aes(x = L, y = C_71), size = 1, color = color_list[3]) +
geom_line(data = dta, aes(x = L, y = K_179), size = 1, color = color_list[4]) +
geom_line(data = dta, aes(x = L, y = C_179), size = 1, color = color_list[4]) +
geom_line(data = dta, aes(x = L, y = K_141), size = 1, color = color_list[5]) +
geom_line(data = dta, aes(x = L, y = C_141), size = 1, color = color_list[5]) +
geom_hline(yintercept = 100, linetype = 2) +
geom_hline(yintercept = 200, linetype = 2) +
scale_y_continuous(expand = c(0, 0), limits = c(0,250)) +
scale_x_continuous(expand = c(0, 0), limits = c(0,250))
#Add labels
p <- p + annotate("text", x = 101, y = 106, label = "a", size=4, family = "Times New Roman") +
annotate("text", x = 81, y = 106, label = "b", size=4, family = "Times New Roman") +
annotate("text", x = 161, y = 206, label = "c", size=4, family = "Times New Roman") +
annotate("text", x = 51, y = 106, label = "d", size=4, family = "Times New Roman") +
annotate("text", x = 101, y = 206, label = "e", size=4, family = "Times New Roman") +
annotate("text", x = 38, y = 245, label = "100", size=2.5, family = "Times New Roman") +
annotate("text", x = 28, y = 245, label = "89.44", size=2.5, family = "Times New Roman") +
annotate("text", x = 138, y = 245, label = "178.89", size=2.5, family = "Times New Roman") +
annotate("text", x = 15, y = 245, label = "70.71", size=2.5, family = "Times New Roman") +
annotate("text", x = 88, y = 245, label = "141.42", size=2.5, family = "Times New Roman")
#Axis labels and theme
p <- p + ylab("Capital (K)") +
ylab("Capital (K)") +
xlab("Labor (L)")+
theme_bw() +
mytheme
ggsave(p, filename = "Figures/Figure 4.png",  width = 6, height = 6, units = "in", dpi = 600)
p
#Load the data
dta <- read_stata("Data/data_CJAES652017.dta")
table2 <- dta %>%
dplyr::select(id, An, labo, feed, machi, ocapi, vout1, eotout1, land, age, nord, sud, offwork) %>%
rename(`01) Labor` = labo, `02) Feed` = feed, `03) Machinery` = machi, `04) Other capital` = ocapi, `05) Dairy output` = vout1, `06) Other output` = eotout1, `07) Land` = land, `08) Age` = age, `09) North` = nord, `10) South` = sud, `11) Off-farm work` = offwork) %>%
gather(Variable, value, -c(An, id)) %>%
group_by(Variable) %>%
summarize(Mean = round(mean(value),2), P50 = round(median(value),2), SD = round(sd(value),2)) %>%
mutate(Units = c("Full time equivalent", "$", "$", "$", "$", "$", "HA", "Years", "Binary", "Binary", "Binary")) %>%
dplyr::select(Variable, Units, Mean, P50, SD)
kable(table2, format = "latex", caption = "Summary of selected variables (number of observations, N = 549)", booktabs = T, align = c("l", "c", "c", "c", "c")) %>%
kable_styling(latex_options = "striped")
###############
### Model 1 ###
###############
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + time + d2009 + t2009, print.level = 0)
#summary(mod1)
eff1 <- cbind(mod1$efficiencies, year = dta$An) %>%
mutate(gyear = case_when(year %in% 2001:2008 ~ "Ave.eff. 2001-08",
year == 2009 ~ "Ave.eff. 2009",
year == 2010 ~ "Ave.eff. 2010")) %>%
group_by(gyear) %>%
summarize(Mean = round(mean(Mode), 4), Min = round(min(`Lower bound`), 2), Max = round(max(`Upper bound`), 2))
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
summary(mod2)
pacman::p_load(frontier)
sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time | age + offwork + nord + sud + d2009 + t2009, data = dta)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time | age + offwork + nord + sud + d2009 + t2009, data = dta)
summary(21)
summary(mod21)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time | age + offwork + nord + sud + d2009 + t2009, truncNorm = TRUE, data = dta)
summary(mod21)
mod21 <- sfa(exp(mland1) ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time | age + offwork + nord + sud + d2009 + t2009, truncNorm = TRUE, data = dta)
summary(mod21)
mod21 <- sfa(exp(mland1) ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, truncNorm = TRUE, data = dta)
summary(mod21)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, truncNorm = TRUE, data = dta)
summary(mod21)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, ineffDecrease = FALSE, truncNorm = TRUE, data = dta)
summary(mod21)
mod21 <- sfa(exp(mland1) ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, ineffDecrease = FALSE, truncNorm = TRUE, data = dta)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + log(time), data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
head(dta)
summary(dta$time)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), it = c("id", "An"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
mod21 <- sfa(exp(mland1) ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009, ineffDecrease = FALSE, truncNorm = TRUE, data = dta)
mod21 <- sfa(exp(mland1) ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, ineffDecrease = FALSE, truncNorm = FALSE, data = dta)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009 + time, truncNorm = FALSE, data = dta)
mod21 <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009, truncNorm = FALSE, data = dta)
pacman::p_load(sfa)
frontier::sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009, truncNorm = TRUE, data = dta)
sfa::sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009, fun = "tnormal", data = dta)
pacman::p_load(benchmarking)
sfa::sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | age + offwork + nord + sud + d2009 + t2009, fun = "tnormal", data = dta)
dgp(n = 100, b = c(1, 2), sc = -1)
class(dgp(n = 100, b = c(1, 2), sc = -1))
?dgp
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
summary(mod2)
?sf
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 4)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
summary(mod2)
set.seed(1234)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
summary(mod2)
set.seed(134)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(123)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(123463)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(12363)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(1233)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
sqrt(.Machine$double.eps)
set.seed(1233)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009,  lmtol = 0.001*sqrt(.Machine$double.eps))
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009,  lmtol = 0.001*sqrt(.Machine$double.eps))
?optim
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009,  method = "Nelder-Mead")
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(1233)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
set.seed(1568373)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(156833)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(56833)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(56833)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(5833)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(35833)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(3533)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(3533573)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(533573)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(533573)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009, print.level = 1)
set.seed(533573)
mod2 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2009 + t2009)
summary(mod2)
eff2 <- cbind(mod2$efficiencies, year = dta$An) %>%
mutate(gyear = case_when(year %in% 2001:2008 ~ "Ave.eff. 2001-08",
year == 2009 ~ "Ave.eff. 2009",
year == 2010 ~ "Ave.eff. 2010")) %>%
group_by(gyear) %>%
summarize(Mean = round(mean(Mode), 4), Min = round(min(`Lower bound`), 2), Max = round(max(`Upper bound`), 2))
eff2
set.seed(533573)
mod3 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap + time, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2005 + d2006 + d2007 + d2008 + d2009+ d2010)
colnames(dta)
mod3 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2005 + d2006 + d2007 + d2008 + d2009 + d2010)
eff3 <- cbind(mod3$efficiencies, year = dta$An) %>%
mutate(gyear = case_when(year %in% 2001:2008 ~ "Ave.eff. 2001-08",
year == 2009 ~ "Ave.eff. 2009",
year == 2010 ~ "Ave.eff. 2010")) %>%
group_by(gyear) %>%
summarize(Mean = round(mean(Mode), 4), Min = round(min(`Lower bound`), 2), Max = round(max(`Upper bound`), 2))
eff3
p_load(stargazer)
stargazer(mod1, mod2, mod3, title="Example of regression table", label = "tab.regtable", header = FALSE)
class(mod3)
str(mod3)
mod3$table
class(mod3$table)
stargazer(mod1$table, mod2$table, mod3$table, title="Example of regression table", label = "tab.regtable", header = FALSE)
str(mod3)
?stargazer
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, include = TRUE, message = FALSE, warning = FALSE,  tidy = TRUE, tidy.opts=list(blank=FALSE, width.cutoff=40), collapse = TRUE, fig.pos = 'H')
#Load some packages
library(pacman)
pacman::p_load(tidyverse)
pacman::p_load(readxl)
pacman::p_load(magrittr)
pacman::p_load(haven)
pacman::p_load(viridis)
pacman::p_load(Cairo)
options(kableExtra.latex.load_packages = FALSE)
pacman::p_load(kableExtra)
pacman::p_load(npsf)
p_load(stargazer, results='asis')
#Basic setup for figures
source("Figures/Graph parameters.r")
mod3 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2005 + d2006 + d2007 + d2008 + d2009 + d2010, print.level = 0)
mod3 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = data.frame(dta), distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + d2005 + d2006 + d2007 + d2008 + d2009 + d2010, print.level = 1)
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + nord + sud + time + d2009 + t2009, print.level = 1)
star$mod1
str$mod1
str(mod1)
mod1$model
mod1$coef
str(mod1$table)
mod1$table[,1]
mod1$table[1:-4,]
mod1$table[-4,]
?grid.arrange
?grid.arrange
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, include = TRUE, message = FALSE, warning = FALSE, tidy = TRUE, tidy.opts=list(blank=FALSE, width.cutoff=35), collapse = TRUE, fig.pos = 'phtb')
#Load some packages
library(pacman)
pacman::p_load(tidyverse)
pacman::p_load(readxl)
pacman::p_load(xlsx)
pacman::p_load(magrittr)
pacman::p_load(haven)
pacman::p_load(viridis)
pacman::p_load(Cairo)
options(kableExtra.latex.load_packages = FALSE)
pacman::p_load(kableExtra)
pacman::p_load(npsf)
#Basic setup for figures
source("Figures/Graph parameters.r")
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + north + south + time + d2009a + t2009a, print.level = 0)
dta <- read_excel("Data/Raw data.xlsx")
#Create data for estimation
dta <- dta %>%
mutate(mland = log(land) - mean(log(land)),
mland1 = - mland,
mlvout1 = log(vout1) - mean(log(vout1)),
mlotout1 = log(otout1) - mean(log(otout1)),
mlfeed1 = log(feed) - mean(log(feed)) - mland,
mlabo1 = log(labo) - mean(log(labo)) - mland,
mlmach1 = log(machi) - mean(log(machi)) - mland,
mlocapi1 = log(ocapi) - mean(log(ocapi)) - mland,
mlvout2 = mlvout1^2,
mlotout2 = mlotout1^2,
mlfeed2 =  mlfeed1^2,
mlabo2 = mlabo1^2,
mlmach2 = mlmach1^2,
mlocapi2 = mlocapi1^2,
lout12 = mlvout1 * mlotout1,
out1_feed = mlvout1 * mlfeed1,
out1_lab = mlvout1 * mlabo1,
out1_mach = mlvout1 * mlmach1,
out1_ocap = mlvout1 * mlocapi1,
out2_feed = mlotout1 * mlfeed1,
out2_lab = mlotout1 * mlabo1,
out2_mach = mlotout1 * mlmach1,
out2_ocap = mlotout1 * mlocapi1,
feed_lab = mlfeed1 * mlabo1,
feed_mach = mlfeed1 * mlmach1,
feed_ocap = mlfeed1 * mlocapi1,
lab_mach = mlabo1 * mlmach1,
lab_ocap = mlabo1 * mlocapi1,
mach_ocap = mlmach1 * mlocapi1)
### Create the dummies and time trend
dta <- dta %>%
mutate(time = year - 2000,
d2005 = as.numeric(year == 2005),
d2006 = as.numeric(year == 2006),
d2007 = as.numeric(year == 2007),
d2008 = as.numeric(year == 2008),
d2009 = as.numeric(year == 2009),
d2010 = as.numeric(year == 2010),
d2009a = as.numeric(year >= 2009),
t2009a = time*d2009a)
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + north + south + time + d2009a + t2009a, print.level = 0)
pacman::p_load(frontier)
sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE)
sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE)
summary(mod1a)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE)
summary(mod1a)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, tol = 0.0000001, searchtol = 0.00001)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, searchStep = 0.0000001, searchTol = 0.00001)
summary(mod1a)
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + north + south + time + d2009a + t2009a, print.level = 0)
mod1
summary(mod1)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, searchStep = 0.0000001, searchTol = 0.00001, muBound = 0)
summary(mod1a)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = TRUE, searchStep = 0.0000001, searchTol = 0.00001, muBound = 0)
summary(mod1a)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = TRUE, searchStep = 0.0000001, searchTol = 0.000001, muBound = 0)
summary(mod1a)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, searchStep = 0.0000001, searchTol = 0.000001, muBound = 0)
summary(mod1a)
summary(mod1)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, searchStep = 0.0000001, searchTol = 1.49e-08, muBound = 0)
summary(mod1a)
mod1 <- sf(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap, data = dta, distribution = c("t"), eff.time.invariant = TRUE, mean.u.0i = ~ age + offwork + north + south + time + d2009a + t2009a, print.level = 0)
summary(mod1)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = TRUE, searchStep = 0.0000001, searchTol = 1.49e-08, muBound = 0)
summary(mod1a)
summary(mod1)
mod1a <- sfa(mland1 ~ mlvout1 + mlotout1 + mlfeed1 + mlabo1 + mlmach1 + mlocapi1 + mlvout2 + mlotout2 + mlfeed2 + mlabo2 + mlmach2 + mlocapi2 + lout12 + out1_feed + out1_lab + out1_mach + out1_ocap + out2_feed + out2_lab + out2_mach + out2_ocap + feed_lab + feed_mach + feed_ocap + lab_mach + lab_ocap + mach_ocap | ~ age + offwork + north + south + time + d2009a + t2009a, data = dta, truncNorm = TRUE, ineffDecrease = FALSE, searchStep = 0.0000001, searchTol = 1.49e-08, muBound = 0)
summary(mod1a)
